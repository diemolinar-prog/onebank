<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Webex Videollamada – Molina & Morales</title>

  <!-- SDK oficial ACTUAL 2025 -->
  <script src="https://unpkg.com/webex/umd/webex.min.js"></script>

  <style>
    video {
      width: 45%;
      margin: 10px;
      border: 2px solid #333;
      border-radius: 8px;
    }
  </style>
</head>

<body>

  <h2>Videollamada Webex – Molina & Morales</h2>

  <button id="joinBtn">Unirse a la Videollamada</button>
  <br><br>

  <video id="localVid" autoplay muted playsinline></video>
  <video id="remoteVid" autoplay playsinline></video>

  <script>
    const TOKEN = "";

    // Contacto: Ignacio Morales → email o SIP
    const DESTINATION = "ig.moralesw@duocuc.cl"; 

    const webex = Webex.init({
      credentials: {
        access_token: TOKEN
      }
    });

    document.getElementById("joinBtn").onclick = async () => {
      const meeting = await webex.meetings.create(DESTINATION);

      meeting.on("meeting:startedSharingRemote", () => {
        console.log("Compartiendo pantalla remoto");
      });

      meeting.on("meeting:media:ready", (media) => {
        if (media.type === "local") {
          document.getElementById("localVid").srcObject = media.stream;
        }
        if (media.type === "remoteVideo") {
          document.getElementById("remoteVid").srcObject = media.stream;
        }
      });

      await meeting.join();
      await meeting.getMediaStreams({
        sendVideo: true,
        sendAudio: true,
        receiveVideo: true,
        receiveAudio: true
      });
    };
  </script>

</body>
</html>






